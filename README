Installing RPMs:

(Instructions taken from 
http://www.project-moonshot.org/devwiki/ConfiguringRHEL/)

(1) Install EPEL:

# sudo rpm -ivh http://download.fedoraproject.org/pub/epel/6/i386/epel-release-6-5.noarch.rpm
# sudo yum install epel-release

(2) If using SELinux, set it to permissive:

# sudo echo 0 > /selinux/enforce

(3) Create a new file /etc/yum.repos.d/moonshot.repo:

# sudo echo \
'[Moonshot]
name=Moonshot
baseurl=http://yum.dev.ja.net/RPMS/x86_64/
enabled=1
gpgcheck=0

[Moonshot-source]
name=Moonshot Source
baseurl=http://yum.dev.ja.net/SRPM/
enabled=0
gpgcheck=0' \
> /etc/yum.repos.d/moonshot.repo

(4) Install Moonshot RPMs with "yum":

# sudo yum -y install \
    shibboleth \
    shibboleth-devel \
    libxerces-c-3_1 \
    libxerces-c-devel \
    libsaml7 \
    libsaml-devel \
    opensaml-schemas \
    liblog4shib1 \
    liblog4shib-devel \
    libxml-security-c16 \
    libxml-security-c-devel \
    libshibresolver1 \
    libshibresolver-devel \
    libxmltooling5 \
    libxmltooling-devel \
    xmltooling-schemas \
    libevent

(5) Install other needed RPMs:

# sudo yum -y install \
	libxml2-devel \
	libtool \
	gcc

-------------------------------------

Building The Code:

# ./autogen.sh
# ./configure --with-opensaml=/opt/moonshot/ --with-shibresolver=/opt/moonshot/ --with-shibsp=/opt/moonshot/
# make

Testing Library with MIT GSS example programs:

1. Start Server as follows. In one window, run:

# ./testserver.sh

   - OR -

# cd gss-sample
# export LD_LIBRARY_PATH=/opt/moonshot/lib64
# ./gss-server -port 3490 test


2. Invoke client as follows. In a second window, run:

# ./testclient.sh <username> <password>

   - OR -

# cd gss-sample
# export LD_LIBRARY_PATH=/opt/moonshot/lib64
# export SAML_EC_IDP='https://boingo.ncsa.uiuc.edu/idp/profile/SAML2/SOAP/ECP'    # Use your IdP's ECP endpoint
# ./gss-client -nw -nx -nm -port 3490 -user <username> -pass <password> -mech "{ 1 3 6 1 4 1 11591 4 6 }" localhost test testmessage

